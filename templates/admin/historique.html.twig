{% extends 'base.html.twig' %}

{% block body %}


        <h1 class="text-center mb-5 mt-5">Historique de mes consultations</h1>
    <div class="container mb-3">
        <form>
            <div class="container d-flex justify-content-center">

                <div class="form-group">
                    <label >Date de début</label>
                    <input type="text" class="form-control filterpicker" name="date_de_debut">
                </div>
            </div>
            <div class="container d-flex justify-content-center">
                <div class="form-group">
                    <label>Date de fin</label>
                    <input type="text" class="form-control filterpicker"name="date_de_fin">
                </div>
            </div>
            <div class="justify-content-center d-flex ">
                <button type="submit" class="btn btn-primary w-10 mr-3"
                >Filtrer</button>
                <button type="submit" class="btn btn-primary w-10"
                ><a href="{{ path('app_admin_admin_historiqueconsultation') }}"></a>Retour</button>
            </div>

        </form>
    </div>

        <table class="table table-responsive table-striped pl-5">
            <thead class="thead-dark">
            <tr>
                <th scope="col">Id_RDV</th>
                <th scope="col">Patient</th>
                <th scope="col" >Date</th>
                <th scope="col">Motif</th>
                <th scope="col">Profession</th>
                <th scope="col">Sportif</th>
                <th scope="col">Fumeur</th>
                <th scope="col">Antécédents</th>
                <th scope="col">Médicaments</th>
                <th scope="col">Allérgies</th>
                <th scope="col">Sommeil</th>
                <th scope="col">Statut</th>
                <th scope="col"></th>
                <th scope="col"></th>
                <th scope="col"></th>

            </tr>
            </thead>
            <tbody>

            {% for consultation in consultations %}
                {% if consultation.booking.status == 'PAYEE' %}
                <tr>
                    <td class="text-center" >{{ consultation.booking.id }}</td>
                    <td>{{ consultation.user}}</td>
                    <td>{{ consultation.date | date('d/m/Y H:m') }}</td>
                    <td>{{ consultation.booking.job }}</td>
                    <td>{{ consultation.booking.motive }}</td>
                    <td>{{ consultation.booking.sports }}</td>
                    <td>{{ consultation.booking.smoker }}</td>
                    <td>{{ consultation.booking.medicalPast }}</td>
                    <td>{{ consultation.booking.medication }}</td>
                    <td>{{ consultation.booking.allergies }}</td>
                    <td>{{ consultation.booking.sleepSchedule }}/10</td>
                    <td>{{ consultation.booking.status }}</td>
                    <td><a class="btn btn-info" href="{{ path('app_admin_admin_view', {"id" : consultation.id}) }}">Voir</a></td>



                </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>


{% endblock %}
{% block javascripts %}
    {{ parent()  }}
    <script>$('.filterpicker').datetimepicker({minDateTime: null})</script>
{% endblock %}
